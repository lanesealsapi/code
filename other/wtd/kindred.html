<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Kindness App ðŸŒŸ</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap');

body {
  font-family: 'Inter', sans-serif;
  margin: 0;
  background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  overflow-x: hidden;
  color: black;
  padding-top: 50px;
  transition: background 1s ease;
}

h1 {
  font-size: 2.5rem;
  margin-bottom: 20px;
  text-align: center;
}

.card-stack {
  position: relative;
  width: 90%;
  max-width: 500px;
  height: 300px;
  perspective: 1500px;
}

.card {
  position: absolute;
  width: 100%;
  height: 100%;
  background: rgba(255,255,255,1.0);
  backdrop-filter: blur(12px);
  border-radius: 15px;
  box-shadow: 0 20px 50px rgba(0,0,0,0.5);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 30px 35px;
  text-align: center;
  transition: transform 0.6s ease, opacity 0.6s ease;
}

.card.hide {
  opacity: 0;
  transform: translateY(-50px) scale(0.95);
}

.card .prompt {
  font-size: 1.4em;
  min-height: 80px;
  margin-bottom: 20px;
  text-shadow: 0 0 6px #6c63ff;
}

.buttons {
  display: flex;
  gap: 15px;
}

button {
  padding: 12px 25px;
  border-radius: 15px;
  border: none;
  font-weight: 600;
  font-size: 1em;
  cursor: pointer;
  transition: all 0.3s;
  text-shadow: 0 0 3px #000;
}

.complete {
  background: #6c63ff;
  color: #fff;
  box-shadow: 0 0 15px #6c63ff, 0 0 30px #6c63ff;
}

.complete:hover {
  transform: scale(1.05);
  box-shadow: 0 0 25px #fff, 0 0 50px #6c63ff;
}

.skip {
  background: rgba(255,255,255,0.2);
  color: #fff;
}

.skip:hover {
  transform: scale(1.05);
}

.add-kindness {
  margin-top: 20px;
  display: flex;
  gap: 10px;
}

input {
  flex: 1;
  padding: 12px;
  border-radius: 15px;
  border: none;
  outline: none;
  font-size: 1em;
}

.stats {
  margin-top: 20px;
  font-size: 1.2em;
  text-shadow: 0 0 5px #6c63ff;
}

.streak {
  display: inline-block;
  animation: pulse 0.5s ease;
}

@keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.3); }
  100% { transform: scale(1); }
}

.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  animation: fall 1s linear forwards;
  z-index: 9999;
  border-radius: 50%;
}

@keyframes fall {
  0% { transform: translateY(0) rotate(0deg); opacity: 1; }
  100% { transform: translateY(600px) rotate(360deg); opacity: 0; }
}
</style>
</head>
<body>

<h1>Kindness App</h1>

<div class="card-stack" id="cardStack">
  <!-- Cards will be dynamically generated -->
</div>

<div class="add-kindness">
  <input type="text" id="customKindness" placeholder="Add your own kindness idea...">
  <button id="addBtn" class="complete">Add</button>
</div>

<div class="stats" id="stats">
  Streak: <span class="streak" id="streak">0</span> | Total Completed: <span id="total">0</span>
</div>

<script>
const basePrompts = [
  "Send a nice message to someone today.",
  "Compliment a stranger.",
  "Help someone with a small task.",
  "Donate to a local charity.",
  "Leave a positive note for a coworker.",
  "Call a friend you haven't spoken to in a while.",
  "Pick up litter in your area."
];

let data = JSON.parse(localStorage.getItem('kindnessData')) || {
  streak: 0,
  lastDate: null,
  totalCompleted: 0,
  customPrompts: []
};

const cardStack = document.getElementById('cardStack');
const streakEl = document.getElementById('streak');
const totalEl = document.getElementById('total');
const addBtn = document.getElementById('addBtn');
const customInput = document.getElementById('customKindness');

function saveData() { localStorage.setItem('kindnessData', JSON.stringify(data)); }

function getAllPrompts() { return [...basePrompts, ...data.customPrompts]; }

function createConfetti() {
  for(let i=0;i<30;i++){
    const c = document.createElement('div');
    c.className='confetti';
    c.style.left = Math.random()*window.innerWidth+'px';
    c.style.background = `hsl(${Math.random()*360},70%,60%)`;
    c.style.width = `${Math.random()*8+5}px`;
    c.style.height = `${Math.random()*8+5}px`;
    document.body.appendChild(c);
    setTimeout(()=>c.remove(),1000);
  }
}

function updateStats() {
  streakEl.textContent = data.streak;
  totalEl.textContent = data.totalCompleted;
  streakEl.classList.remove('pulse');
  void streakEl.offsetWidth;
  streakEl.classList.add('pulse');
  // background reacts slightly to streak
  const hue = (data.streak*20)%360;
  document.body.style.background = `linear-gradient(135deg, hsl(${hue},60%,15%), hsl(${(hue+60)%360},50%,25%), hsl(${(hue+120)%360},45%,30%))`;
}

function checkDailyReset() {
  const today = new Date().toDateString();
  if(data.lastDate !== today){
    data.streak = 0;
    data.lastDate = today;
    saveData();
  }
}

function generateCards() {
  cardStack.innerHTML='';
  const prompts = getAllPrompts().slice(0,5); // show top 5 cards
  prompts.forEach((p,i)=>{
    const card = document.createElement('div');
    card.className='card';
    card.style.zIndex=5-i;
    card.style.transform=`scale(${1-0.05*i}) translateY(${i*15}px)`;
    card.innerHTML=`
      <div class="prompt">${p}</div>
      <div class="buttons">
        <button class="complete">âœ…</button>
        <button class="skip">?</button>
      </div>
    `;
    cardStack.appendChild(card);
  });
  addCardListeners();
}

function addCardListeners(){
  const cards = [...cardStack.children];
  cards.forEach((card,idx)=>{
    const complete = card.querySelector('.complete');
    const skip = card.querySelector('.skip');

    complete.onclick = () => swipeCard(card,'complete');
    skip.onclick = () => swipeCard(card,'skip');
  });
}

function swipeCard(card,type){
  card.style.transition='transform 0.5s ease, opacity 0.5s ease';
  card.style.transform=`translateX(${type==='complete'?500:-500}px) rotate(${type==='complete'?30:-30}deg)`;
  card.style.opacity=0;
  setTimeout(()=>{
    card.remove();
    if(type==='complete'){
      data.streak+=1;
      data.totalCompleted+=1;
      data.lastDate=new Date().toDateString();
      createConfetti();
      updateStats();
    }
    if(cardStack.children.length===0) generateCards();
  },500);
}

addBtn.addEventListener('click',()=>{
  const value=customInput.value.trim();
  if(value){
    data.customPrompts.push(value);
    customInput.value='';
    saveData();
    generateCards();
    createConfetti();
  }
});

checkDailyReset();
updateStats();
generateCards();
</script>

</body>
</html>
