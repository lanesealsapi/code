<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Ripple Reaction Wall ‚Äî Neon Engagement</title>
<style>
  :root{
    --bg:#050317; --card:#0b0b12; --neon:#7f5cff; --accent:#33d6ff; --warn:#ff5c7a;
  }
  *{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial}
  html,body{height:100%;margin:0;background:linear-gradient(180deg,var(--bg),#020211 60%);color:#e9e9f1}
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
  .container{width:100%;max-width:1100px;display:grid;grid-template-columns:1fr 340px;gap:24px}
  .wall{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:14px;padding:18px;position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.04);min-height:520px}
  .controls{background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(255,255,255,0.008));padding:18px;border-radius:14px;border:1px solid rgba(255,255,255,0.04)}
  h2{margin:0 0 8px 0;font-size:18px}
  p.small{margin:0;color:#9ea7ff;font-size:13px}

  /* ripple canvas */
  #rippleCanvas{width:100%;height:100%;display:block}

  /* reaction feed */
  .feed{position:absolute;right:16px;top:16px;width:220px;max-height:420px;overflow:auto;padding:10px;border-radius:12px;background:linear-gradient(180deg, rgba(0,0,0,0.18), rgba(255,255,255,0.02));backdrop-filter:blur(6px);border:1px solid rgba(255,255,255,0.03)}
  .feed .item{display:flex;align-items:center;gap:8px;padding:8px;border-radius:10px;margin-bottom:8px}
  .tag{width:36px;height:36px;border-radius:50%;display:grid;place-items:center;font-weight:700}
  .like{background:linear-gradient(180deg,var(--neon),#5d3cff);box-shadow:0 6px 18px rgba(127,92,255,0.14)}
  .comment{background:linear-gradient(180deg,var(--accent),#2bb8ff);box-shadow:0 6px 18px rgba(51,214,255,0.14)}
  .share{background:linear-gradient(180deg,var(--warn),#ff8b9b);box-shadow:0 6px 18px rgba(255,92,122,0.12)}
  .txt{font-size:13px}

  /* buttons */
  .row{display:flex;gap:8px;align-items:center}
  .btn{padding:10px 12px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--neon),var(--accent));color:#05030a;font-weight:700;cursor:pointer}
  .ghost{background:transparent;border:1px solid rgba(255,255,255,0.04);color:#cfd3ff}
  input.input{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit}
  .muted{color:#98a0d6;font-size:13px}

  /* legend */
  .legend{display:flex;gap:10px;margin-top:10px}
  .legend .pill{padding:6px 8px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.02);display:flex;gap:8px;align-items:center}
  .dot{width:10px;height:10px;border-radius:50%}

  @media (max-width:920px){.container{grid-template-columns:1fr}.feed{display:none}}
</style>
</head>
<body>
  <div class="wrap">
    <div class="container">
      <div class="wall card">
        <canvas id="rippleCanvas"></canvas>
        <div class="feed" id="feed"></div>
      </div>

      <div class="controls card">
        <h2>Ripple Reaction Wall</h2>
        <p class="small">Simulate live reactions ‚Äî clicks create ripples. Use the actions to emit different ripple types.</p>

        <div style="margin-top:12px">
          <label class="muted">Post preview</label>
          <input id="postPreview" class="input" placeholder="This post will gather reactions..." value="Night sky drop ‚ú® new project live" />
        </div>

        <div style="margin-top:12px">
          <div class="row">
            <button class="btn" id="likeBtn">üëç Like</button>
            <button class="btn" id="commentBtn">üí¨ Comment</button>
            <button class="btn" id="shareBtn">üîÅ Share</button>
            <button class="ghost" id="clearBtn">Clear</button>
          </div>
        </div>

        <div style="margin-top:12px">
          <label class="muted">Quick simulate</label>
          <div class="row" style="margin-top:8px">
            <button class="btn" id="burstBtn">Burst</button>
            <button class="btn" id="waveBtn">Wave</button>
            <button class="ghost" id="slowBtn">Slow</button>
          </div>
        </div>

        <div style="margin-top:14px">
          <label class="muted">Legend</label>
          <div class="legend">
            <div class="pill"><span class="dot" style="background:var(--neon)"></span><span class="muted">Like</span></div>
            <div class="pill"><span class="dot" style="background:var(--accent)"></span><span class="muted">Comment</span></div>
            <div class="pill"><span class="dot" style="background:var(--warn)"></span><span class="muted">Share</span></div>
          </div>
        </div>

        <div style="margin-top:12px" class="muted">Tip: click anywhere on the wall to create a ripple at that point. Use simulated bursts for peaks.</div>
      </div>
    </div>
  </div>

<script>
// Ripple Reaction Wall ‚Äî standalone
const canvas = document.getElementById('rippleCanvas');
const ctx = canvas.getContext('2d');
const feed = document.getElementById('feed');
let DPR = window.devicePixelRatio || 1;
function resize(){
  const rect = canvas.getBoundingClientRect();
  canvas.width = rect.width * DPR;
  canvas.height = rect.height * DPR;
  canvas.style.width = rect.width + 'px';
  canvas.style.height = rect.height + 'px';
}
window.addEventListener('resize', resize);
resize();

// ripples array
const ripples = [];
function createRipple(x,y,type='like'){
  const base = {x: x, y: y, t: performance.now(), r: 0, life: 1500, type};
  if(type==='like'){ base.color = getComputedStyle(document.documentElement).getPropertyValue('--neon') || '#7f5cff'; base.stroke=2; }
  if(type==='comment'){ base.color = getComputedStyle(document.documentElement).getPropertyValue('--accent') || '#33d6ff'; base.stroke=3; base.life=1800 }
  if(type==='share'){ base.color = getComputedStyle(document.documentElement).getPropertyValue('--warn') || '#ff5c7a'; base.stroke=4; base.life=2000 }
  ripples.push(base);
  addFeedItem(type);
}

function addFeedItem(type){
  const el = document.createElement('div');
  el.className='item';
  const tag = document.createElement('div'); tag.className='tag ' + (type==='like'?'like':type==='comment'?'comment':'share');
  tag.textContent = type==='like'? '‚ô•' : type==='comment'? '‚úâ' : '‚Ü∫';
  const txt = document.createElement('div'); txt.className='txt';
  const now = new Date();
  txt.innerHTML = `<strong>${type.charAt(0).toUpperCase()+type.slice(1)}</strong><div class="muted" style="font-size:12px">${now.toLocaleTimeString()}</div>`;
  el.appendChild(tag); el.appendChild(txt);
  feed.prepend(el);
  // cap feed
  if(feed.children.length > 12) feed.removeChild(feed.lastChild);
}

// draw loop
function draw(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  const now = performance.now();
  for(let i=ripples.length-1;i>=0;i--){
    const r = ripples[i];
    const age = now - r.t;
    if(age > r.life){ ripples.splice(i,1); continue }
    const progress = age / r.life;
    const maxR = Math.min(canvas.width, canvas.height) * (0.5 + progress*1.8);
    r.r = maxR * (0.15 + progress*0.85);
    const alpha = Math.max(0, 1 - progress);
    // outer glow
    ctx.save();
    ctx.globalCompositeOperation = 'lighter';
    ctx.beginPath(); ctx.arc(r.x*DPR, r.y*DPR, r.r*DPR*1.2, 0, Math.PI*2);
    ctx.fillStyle = hexToRgba(r.color || '#fff', 0.06 * alpha);
    ctx.fill(); ctx.restore();
    // stroke ripple
    ctx.beginPath(); ctx.arc(r.x*DPR, r.y*DPR, r.r*DPR, 0, Math.PI*2);
    ctx.strokeStyle = hexToRgba(r.color || '#fff', 0.95 * alpha);
    ctx.lineWidth = (r.stroke || 2) * DPR * (1 - progress*0.6);
    ctx.stroke();
    // inner pulse
    ctx.beginPath(); ctx.arc(r.x*DPR, r.y*DPR, Math.max(6, r.r*DPR*0.06), 0, Math.PI*2);
    ctx.fillStyle = hexToRgba(r.color || '#fff', 0.95 * (1 - progress)); ctx.fill();
  }
  requestAnimationFrame(draw);
}
requestAnimationFrame(draw);

// helpers
function hexToRgba(hex, alpha=1){
  const c = hex.replace('#','').trim();
  const bigint = parseInt(c,16); const r=(bigint>>16)&255; const g=(bigint>>8)&255; const b=bigint&255;
  return `rgba(${r},${g},${b},${alpha})`;
}

// pointer interaction
canvas.addEventListener('pointerdown',(e)=>{
  const rect=canvas.getBoundingClientRect();
  const x = (e.clientX - rect.left) ;
  const y = (e.clientY - rect.top);
  // default: like
  createRipple(x,y,'like');
});

// control buttons
document.getElementById('likeBtn').addEventListener('click', ()=>{
  // center
  createRipple(canvas.width/(2*DPR), canvas.height/(2*DPR),'like');
});
document.getElementById('commentBtn').addEventListener('click', ()=>{
  const x = Math.random() * canvas.width / DPR; const y = Math.random() * canvas.height / DPR;
  createRipple(x,y,'comment');
});
document.getElementById('shareBtn').addEventListener('click', ()=>{
  // spin outward wave
  for(let i=0;i<6;i++){
    const a = (i/6) * Math.PI*2; const x = canvas.width/(2*DPR) + Math.cos(a) * (40 + i*20);
    const y = canvas.height/(2*DPR) + Math.sin(a) * (40 + i*20);
    setTimeout(()=>createRipple(x,y,'share'), i*80);
  }
});

document.getElementById('burstBtn').addEventListener('click', ()=>{
  const cx = canvas.width/(2*DPR); const cy = canvas.height/(2*DPR);
  for(let i=0;i<18;i++){
    const a = Math.random()*Math.PI*2; const r = 40 + Math.random()*220;
    const x = cx + Math.cos(a)*r; const y = cy + Math.sin(a)*r; setTimeout(()=>createRipple(x,y, ['like','comment','share'][Math.floor(Math.random()*3)]), i*40);
  }
});

document.getElementById('waveBtn').addEventListener('click', ()=>{
  const cx = canvas.width/(2*DPR); const cy = canvas.height/(2*DPR);
  for(let i=0;i<10;i++) setTimeout(()=>createRipple(cx, cy - i*40, 'comment'), i*120);
});

document.getElementById('slowBtn').addEventListener('click', ()=>{
  // gently spawn few likes
  for(let i=0;i<6;i++) setTimeout(()=>createRipple(Math.random()*canvas.width/DPR, Math.random()*canvas.height/DPR, 'like'), i*300);
});

document.getElementById('clearBtn').addEventListener('click', ()=>{ ripples.length=0; feed.innerHTML=''; ctx.clearRect(0,0,canvas.width,canvas.height); });

// initial demo ripples
setTimeout(()=>{
  document.getElementById('postPreview').value = 'Launching the new visualizer ‚Äî drop a reaction!';
  document.getElementById('burstBtn').click();
}, 600);

</script>
</body>
</html>
